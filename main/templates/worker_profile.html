<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Worker Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8">
  
  <!-- Include Navbar -->
  {% include 'worker_navbar.html' %}

  <h2 class="text-xl font-semibold mb-4">Worker</h2>
  <div class="flex gap-8">
    <!-- Display Information -->
    <div class="relative w-1/2 p-4 border rounded shadow-md">
      <img 
        src="https://via.placeholder.com/80" 
        alt="Profile Picture" 
        class="absolute top-4 right-4 w-20 h-20 rounded-full border border-gray-300 object-cover"
      />
      <p><span class="font-semibold">Name:</span> {{ profile.name }}</p>
      <p><span class="font-semibold">Sex:</span> {{ profile.sex }}</p>
      <p><span class="font-semibold">Phone Number:</span> {{ profile.phone_number }}</p>
      <p><span class="font-semibold">Birth Date:</span> {{ profile.birthdate }}</p>
      <p><span class="font-semibold">Address:</span> {{ profile.address }}</p>
      <p><span class="font-semibold">MyPay Balance:</span> ${{ profile.my_pay_balance }}</p>
      <p><span class="font-semibold">Bank Name:</span> {{ profile.bank_name }}</p>
      <p><span class="font-semibold">Account Number:</span> {{ profile.account_number }}</p>
      <p><span class="font-semibold">NPWP:</span> {{ profile.npwp }}</p>
      <p><span class="font-semibold">Rate:</span> ${{ profile.rate }}/hr</p>
      <p><span class="font-semibold">Completed Orders Count:</span> {{ profile.total_finish_order }}</p>
      <button id="showWorkerForm" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
        Update
      </button>
    </div>
  </div>

  <!-- Update Form -->
  <div id="workerForm" class="w-1/2 p-4 border rounded shadow-md hidden">
    <form method="POST">
      {% csrf_token %}
      <div>
        <label class="block font-semibold">Name:</label>
        <input type="text" name="name" class="w-full p-2 border rounded" value="{{ profile.name }}" />
      </div>
      <div>
        <label class="block font-semibold">Sex:</label>
        <div class="flex items-center space-x-4">
          <label><input type="radio" name="sex" value="M" {% if profile.sex == 'M' %}checked{% endif %} /> M</label>
          <label><input type="radio" name="sex" value="F" {% if profile.sex == 'F' %}checked{% endif %} /> F</label>
        </div>
      </div>
      <div>
        <label class="block font-semibold">Phone Number:</label>
        <input type="text" name="phone_number" class="w-full p-2 border rounded" value="{{ profile.phone_number }}" />
      </div>
      <div>
        <label class="block font-semibold">Bank Name:</label>
        <input type="text" name="bank_name" class="w-full p-2 border rounded" value="{{ profile.bank_name }}" />
      </div>
      <div>
        <label class="block font-semibold">Account Number:</label>
        <input type="text" name="account_number" class="w-full p-2 border rounded" value="{{ profile.account_number }}" />
      </div>
      <div>
        <label class="block font-semibold">NPWP:</label>
        <input type="text" name="npwp" class="w-full p-2 border rounded" value="{{ profile.npwp }}" />
      </div>
      <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-green-600">Submit</button>
    </form>
  </div>

  <script>
    document.getElementById("showWorkerForm").addEventListener("click", function () {
      document.getElementById("workerForm").classList.toggle("hidden");
    });
  </script>
</body>
</html>
